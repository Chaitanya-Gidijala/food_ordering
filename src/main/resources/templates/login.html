<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{fragments/layout}">

<head>
    <th:block th:replace="~{fragments/layout :: head}"></th:block>
    <title>Login - FoodHub</title>
</head>

<body>

    <div layout:fragment="content">
        <section class="auth-section"
            style="min-height: calc(100vh - 80px); display: flex; align-items: center; justify-content: center; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 2rem;">

            <div class="auth-card"
                style="background: white; padding: 3rem; border-radius: var(--radius-lg); box-shadow: var(--shadow-xl); width: 100%; max-width: 450px;">

                <div class="auth-header" style="text-align: center; margin-bottom: 2rem;">
                    <div
                        style="width: 70px; height: 70px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 2rem;">
                        <i class="fas fa-user"></i>
                    </div>
                    <h1 style="font-size: 1.8rem; font-weight: 800; color: var(--secondary);">Welcome Back</h1>
                    <p style="color: #6c757d;">Login to continue to FoodHub</p>
                </div>

                <!-- Success Message -->
                <div th:if="${param.success}" class="alert alert-success">
                    <i class="fas fa-check-circle"></i>
                    Registration successful! Please login.
                </div>

                <!-- Logout Message -->
                <div th:if="${param.logout}" class="alert alert-success">
                    <i class="fas fa-sign-out-alt"></i>
                    You have been logged out successfully.
                </div>

                <!-- Error Message -->
                <div th:if="${param.error}" class="alert alert-danger"
                    style="background: #f8d7da; color: #721c24; border-left: 4px solid #f5c6cb;">
                    <i class="fas fa-exclamation-circle"></i> Invalid username or password.
                </div>

                <form th:action="@{/login}" method="post">
                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="username"
                            style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--secondary);">Username</label>
                        <input type="text" id="username" name="username" class="form-control"
                            placeholder="Enter your username" required autofocus>
                    </div>

                    <div class="form-group" style="margin-bottom: 1.5rem;">
                        <label for="password"
                            style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--secondary);">Password</label>
                        <input type="password" id="password" name="password" class="form-control"
                            placeholder="Enter your password" required>
                    </div>

                    <button type="submit" class="btn-primary"
                        style="width: 100%; justify-content: center; margin-top: 1rem;">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                </form>

                <div
                    style="text-align: center; margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border);">
                    <p style="color: #6c757d;">Don't have an account? <a href="/register"
                            style="color: var(--primary); font-weight: 600; text-decoration: none;">Sign up now</a></p>
                </div>
            </div>
        </section>
    </div>

</body>

</html>